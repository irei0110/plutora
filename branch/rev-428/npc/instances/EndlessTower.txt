//===== eAthena Script ======================================= 
//= Endless Tower
//= 魔物終結塔
//===== By: ================================================== 
//= L0ne_W0lf
//= 小飄
//= 哲小莫
//===== Current Version: ===================================== 
//= 1.7
//= 1.8
//===== Compatible With: ===================================== 
//= eAthena SVN
//= PlutoEA SVN
//===== Description: ========================================= 
//= [Aegis Conversion]
//= Endless Tower Memorial Dungeon
//= Consists of 101 floors.
//===== Additional Comments: ================================= 
//= 1.0 First version.
//= 1.1 Removed a disablenpc from #102FShadowDust1. (bugreport:4415)
//= 1.2 Added ends to several NPCs which would allow you to restart timers.
//=     Added some missing stopnpctimers to npcs. (bugreport:4418)
//= 1.3 Fixed a couple copy/paste errors :D I fail. [L0ne_W0lf]
//      Timer no longer resets when re-entering.
//= 1.4 Added quest log entries based on iRO. [L0ne_W0lf]
//=     You may need to update your questid2display.
//=     Changed White lady spawn to MVP White Lady. (bugreport:4601)
//= 1.5 Corrected some grammar and typos.
//= 1.6 Corrected the tower re-entry blocked condition. (bugreport:4677) [L0ne_W0lf]
//=     Corrected floor 75 warp disabling the wrong NPC. (bugreport:4711)
//= 1.7 Added missing end's to prevent accidental disabling of
//=     warps between floors. (bugreport:4623)
//=     Added missing end's to prevent infinite mobspawn (bugreport:4540)
//=     Commented out remaining GM-only NPCs. [Gepard]
//= 1.8 同步官方中文化部分內容. [小飄]
//=     整理中文化的修正. [哲小莫]
//============================================================ 

alberta,214,77,6	script	Captain Janssen	709,{
	if (checkweight(1201,1) == 0) {
		mes "^008800Wait here!!";
		mes "You're carrying too much stuff. Why don't you put some of it away, and then come back.^000000";
		close;
	}
	set .@name_102$,strcharinfo(0);
	if (BaseLevel < 50) {
		mes "[船長 楊森]";
		mes "嗚嗚... 我到底能不能重回海洋呢...";
		close;
	}
	if (in_102tower == 1) {
		mes "^0000FF看著老伯面露好心情的走到附近的航海用品店訂了一些東西，我因閒閒沒事就去找老伯問個究竟了^000000";
		next;
		mes "^0000FF訂完東西後老伯又走到我面前^000000";
		next;
		mes "[船長 楊森]";
		mes "嗯，沒想到你這麼爽快答應我的請求，你真是個好冒險家，難道你也對遠洋有興趣嗎?";
		next;
		mes "["+.@name_102$+"]";
		mes "我有出海過幾次啦，只是未到過大陸的盡頭...";
		next;
		mes "[船長 楊森]";
		mes "噢~";
		mes "至少有去過就好，我也曾經是帶領過大船隊的船長，雖如今只剩下一艘小船而已";
		next;
		mes "[船長 楊森]";
		mes "你有航海過應該也明白，那大陸盡頭的海洋仍是未知之地，我曾經試著去窺探卻慘遭滑鐵盧...";
		next;
		mes "^0000FF楊森老伯對自己當年的英雄事蹟闡述了許久，我也很樂意的做下來傾聽他的故事^000000";
		next;
		mes "^0000FF我想他的內容中吹牛成份占一半吧，但談話中引起我興趣的是楊森索親眼目睹有關高高聳立於海上的巨塔^000000";
		set in_102tower,2;
		close;
	}
	else if (in_102tower == 2) {
		mes "[船長 楊森]";
		mes "...於是遭逢船難的我不得已停靠在巨塔上，我只是想躲避暴風雨而已，但天氣始終沒有好轉";
		next;
		mes "[船長 楊森]";
		mes "熬不過飢餓的某些船員們跑到那不明的巨塔裡找食物，當然是一去不回全都失蹤了";
		next;
		mes "["+.@name_102$+"]";
		mes "船長你沒一起去嗎?";
		next;
		mes "[船長 楊森]";
		mes "我的直覺告訴我那塔很危險，當然也有一點害怕，直到第七天天候穩定為止，那些到塔裡的人一個都沒回來";
		next;
		mes "[船長 楊森]";
		mes "我們為了活下來把承載的所有貨物全都拋下，並在島上辛苦的找了一點水及食物植物後離開，直到到達陸地時，就只剩下我一個活著而已";
		next;
		mes "^0000FF我能想像船長在那船上所遭遇的苦難，他暫時以憂鬱的表情保持沉默後，再以篤定的口吻說道^000000";
		next;
		mes "[船長 楊森]";
		mes "我的心意已決，為了到塔裡一去不回的船員們...";
		mes "我要去把他們的屍體帶回來安葬，這是我餘生的最後心願";
		next;
		mes "[船長 楊森]";
		mes "幸好遇到像你這樣心地善良的冒險家，由你補助的經費應可航向至那巨塔";
		next;
		mes "["+.@name_102$+"]";
		mes "你不需要船員嗎?";
		next;
		mes "[船長 楊森]";
		mes "那裡太危險了，我是為了完成自己的任務，所以不建議你跟我去冒險";
		next;
		mes "["+.@name_102$+"]";
		mes "不是...";
		mes ".";
		mes ".";
		mes "我對那裡也深感好奇了";
		next;
		mes "[船長 楊森]";
		mes "是嗎?";
		mes "我打算立即出發，若你也想出海的話，請你去準備一下後再來找我吧...";
		next;
		mes "[船長 楊森]";
		mes "啊，還有歡迎你，";
		mes "我的新大副";
		set in_102tower,3;
		close;
	}
	else if (in_102tower == 3) {
		mes "[船長 楊森]";
		mes "那麼我們出海吧?";
		next;
		switch(select("航向大海!:等等，心裡還沒準備好...")) {
		case 1:
			mes "[船長 楊森]";
			mes "走吧航向大海!";
			close2;
			set in_102tower,4;
			warp "e_tower",70,114;
			end;
		case 2:
			mes "[船長 楊森]";
			mes "等你準備好再來吧";
			close;
		}
	}
	else if (in_102tower > 3) {
		mes "[船長 楊森]";
		mes "想要再次出海則需要買一些東西，若願意補助我1萬金幣的話，我來替你準備出海所需要的物品吧";
		next;
		switch(select("改下次出海吧:現在立刻出發吧!")) {
		case 1:
			mes "["+.@name_102$+"]";
			mes "嗯，我現在手頭有點緊，改下次出海吧";
			next;
			mes "[船長 楊森]";
			mes "是嗎? 那就改下次好了";
			close;
		case 2:
			if (zeny < 10000) {
				mes "[船長 楊森]";
				mes "嗯，你身上的金幣不足，這樣就沒辦法出海了...";
				close;
			}
			else {
				mes "[船長 楊森]";
				mes "很好! 已經做好出海的準備了，那麼立刻出發吧!";
				set zeny,zeny-10000;
				close2;
				warp "e_tower",70,114;
				end;
			}
		}
	}
	else {
		mes "[船長 楊森]";
		mes "請問你是冒險家嗎?";
		next;
		mes "[船長 楊森]";
		mes "初次見面不好意思，可以幫我這老頭子一";
		mes "個忙嗎? 我會長話短說";
		next;
		mes "[船長 楊森]";
		mes "請補助我^0000FF10,000 Zeny^000000 吧";
		next;
		switch(select("斷然拒絕:補助他1萬金幣")) {
		case 1:
			mes "["+.@name_102$+"]";
			mes "抱歉你找別人吧";
			next;
			mes "[船長 楊森]";
			mes "這樣啊，都是我不好哩";
			close;
		case 2:
			mes "[船長 楊森]";
			mes "啊，你真的願意補助我嗎?";
			mes "太感謝你了...";
			next;
			if (zeny < 10000) {
				mes "[船長 楊森]";
				mes "...";
				mes "不過，你身上的金幣好像不足，謝謝你的好意，再見";
				close;
			}
			else {
				mes "["+.@name_102$+"]";
				mes "雖不知你的用途，但你先拿去用吧";
				next;
				mes "^0000FF你把 10,000 Zeny 交給船長楊森了^000000";
				next;
				mes "[船長 楊森]";
				mes "謝謝!";
				mes "多虧你我才能補給出海用的食物和用品了，你的心地真好...";
				set zeny,zeny-10000;
				set in_102tower,1;
				close;
			}
		}
	}
}

e_tower,81,105,0	script	塔之守護石	406,{

	set .@party_id,getcharid(1);
	set .@ins_mas,getpartyleader(.@party_id,2);
	set .@p_name$,getpartyname(.@party_id);
	set .@p_reader$,strcharinfo(0);
	set .@md_name$,"Endless Tower";
	set .@p_name2$,strcharinfo(0);

	getpartymember(.@party_id);
	set .@partymembercount,$@partymembercount;
	copyarray .@partymembername$[0],$@partymembername$[0],.@partymembercount;

	set .@etower_timer,checkquest(60200,PLAYTIME); // 1 week
	set .@etower_timer2,checkquest(60201,PLAYTIME); // 4 hours

	set .@dun_lim_time,etower_timer+604800; // 1 week
	set .@dun_lim_time2,etower_timer+14400; // 4 hours
	set .@dun_cur_time,gettimetick(2);
	set .@dun_ent_t,(.@dun_lim_time - .@dun_cur_time);
	set .@dun_h,(.@dun_ent_t / 3600);
	set .@dun_m,(.@dun_ent_t - (.@dun_h * 3600)) / 60;
	set .@dun_s,.@dun_ent_t - ((.@dun_h * 3600) + (.@dun_m * 60));

	if ((.@party_id > 0) && (.@partymembercount > 1)) {
		if (.@etower_timer == -1) {
			if (.@ins_mas == getcharid(0)) {
				mes "隊伍組成已確認完畢，你要預約進入魔物終結塔嗎?";
				next;
				switch(select(.@md_name$ + " 創立迷宮:進入迷宮:回到艾爾貝塔:取消")) {
				case 1:
					set .@instance, instance_create(.@md_name$, .@party_id);
					if (.@instance < 0) {
						mes "隊伍名稱:"+.@p_name$+"";
						mes "隊長:"+.@p_reader$+"";
						mes "^0000ff"+.@md_name$+" ^000000- 預約失敗!";
					}
					else {
						mes "^0000ff"+.@md_name$+"^000000 - 預約中";
						mes "等預約完成再去找NPC對話，請到記憶迷宮選擇入場選單後即可入場了";
						for( set .@i, 1; .@i <= 6; set .@i, .@i + 1 ) {
							if( instance_attachmap(.@i + "@tower", .@instance) == "" )
								break;
						}
						if( .@i < 6 ) {
							mes "^0000ff"+.@md_name$+" ^000000- 預約失敗!";
							instance_destroy(.@instance);
							close;
						}
						instance_attach(.@instance);
						instance_set_timeout 14400,300,.@instance;
						instance_init(.@instance);
						// Spawn the first floor of each map, which will then spawn the rest when cleared.
						donpcevent instance_npcname("#1F Controller", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("Immortal Furnace#1", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("Immortal Furnace#2", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("Immortal Furnace#3", instance_id())+"::OnInstanceInit";
						// Disable the warps on all floor. (enable as floors are cleared)
						for( set .@i, 1; .@i <= 99; set .@i, .@i + 1 )
							donpcevent instance_npcname(.@i+"FGate102tower", instance_id())+"::OnInstanceInit";
						// Warps activate on timer, so players can't get unlimited Ashes.
						donpcevent instance_npcname("25FGate102tower-2", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("50FGate102tower-2", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("75FGate102tower-2", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("99FGate102tower-2", instance_id())+"::OnInstanceInit";
						// Disable and ready NPCs for the 100th and 101st floors.
						donpcevent instance_npcname("玲瓏的水晶#102", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("#102Effect1", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("#102Effect2", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("#102FShadowDust1", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("#102FShadowDust", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("生命之泉#1", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("Tyrant's Throne#", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("失蹤的靈魂#102", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("#Effect30", instance_id())+"::OnInstanceInit";
						donpcevent instance_npcname("#Effect31", instance_id())+"::OnInstanceInit";
					}
					break;
				case 2:
					if (has_instance("1@tower") == "") {
						mes "記憶迷宮 " + .@md_name$ + " 並不存在";
						mes "隊長尚未創立記憶迷宮，或者時間已過期";
					}
					else if ((has_instance("1@tower") != "") && (.@partymembercount < 2))
						mes "You can enter the dungeon after making a party.";
					else {
						mapannounce "e_tower", .@p_name2$ + " 隊伍的 " + .@p_name$ + " 隊員們要進入 " + .@md_name$ + ".",bc_map,"0x00ff99",FW_NORMAL,12;
						set etower_timer,gettimetick(2);
						setquest 60200;
						setquest 60201;
						warp "1@tower",52,354;
						end;
					}
					break;
				case 3:
					mes "I will move you to Alberta.";
					close2;
					warp "alberta",223,36;
					end;
				case 4:
					break;
				}
				close;
			}
			else {
				switch(select(.@md_name$ + "進入迷宮:回到艾爾貝塔:取消")) {
				case 1:
					if (has_instance("1@tower") == "") {
						mes "記憶迷宮 " + .@md_name$ + " 並不存在";
						mes "隊長尚未創立記憶迷宮，或者時間已過期";
					}
					else if ((has_instance("1@tower") != "") && (.@partymembercount < 2))
						mes "You can enter the dungeon after making a party.";
					else {
						mapannounce "e_tower", .@p_name2$ + " 隊伍的 " + .@p_name$ + " 隊員們要進入 " + .@md_name$ + ".",bc_map,"0x00ff99",FW_NORMAL,12;
						set etower_timer,gettimetick(2);
						setquest 60200;
						setquest 60201;
						warp "1@tower",52,354;
						end;
					}
					break;
				case 2:
					mes "I will move you to Alberta.";
					close2;
					warp "alberta",223,36;
					end;
				case 3:
					break;
				}
				close;
			}
		}
		else if ((.@etower_timer >= 0) && (.@etower_timer2 < 2)) {
			mes "如果您的迷宮已經產生了，您可以在此進入";
			next;
			switch(select(.@md_name$ + "進入迷宮:回到艾爾貝塔:取消")) {
			case 1:
				if (has_instance("1@tower") == "") {
					mes "記憶迷宮 " + .@md_name$ + " 並不存在";
					mes "隊長尚未創立記憶迷宮，或者時間已過期";
				}
				else if ((has_instance("1@tower") != "") && (.@partymembercount < 2))
					mes "You can enter the dungeon after making a party.";
				else {
					mapannounce "e_tower", .@p_name2$ + " 隊伍的 " + .@p_name$ + " 隊員們要進入 " + .@md_name$ + ".",bc_map,"0x00ff99",FW_NORMAL,12;
					warp "1@tower",52,354;
					end;
				}
				break;
			case 2:
				mes "I will move you to Alberta.";
				close2;
				warp "alberta",223,36;
				end;
			case 3:
				break;
			}
			close;
		}
		else if ((.@etower_timer >= 0) && (.@etower_timer < 2) && (.@etower_timer2 == 2)) {
			mes "因先前的異常現象，目前無法進入迷宮，離下次進入迷宮的時間還剩下 " + .@dun_h + "小時 " + .@dun_m + "分 " + .@dun_s + "秒";
			next;
			mes "這裡相當危險，我會把你送回原來的地方";
			close2;
			warp "alberta",223,36;
			end;
		}
		else {
			set etower_timer,0;
			erasequest 60200;
			erasequest 60201;
			mes "^0000ffThe records and after effects related to the Endless Tower have been removed. You can generate and enter the Endless Tower again.^000000";
			close;
		}
	}
	else {
		mes "請你先組成1人以上的隊伍或加入隊伍後再來吧";
		close;
	}
}

e_tower,30,30,2	script	Huge Vortex	844,2,2,{
OnTouch:
	mapannounce "e_tower","[ " + strcharinfo(0) + " ], seems to be engulfed by a huge vortex",bc_map,"0x00ff99",FW_NORMAL,12;
	warp "alberta",223,36;
	end;
}

/*
e_tower,1,1,2	script	#102Administrator Mode104	844,{
	mes "Please enter the password";
	input .@inputstr$;
	next;
	if (.@inputstr$ == "dmc2008") {
		switch(select("Generate Purification Stone:Remove Purification Stone:Cancel")) {
		case 1:
			mes "Create the Purification Stone that stays for 30 minutes.";
			donpcevent "Purification Stone#et1::Enable";
			break;
		case 2:
			mes "Destroy the Purification Stone immediately";
			donpcevent "Purification Stone#et1::OnDisable";
			break;
		case 3:
			mes "You have canceled it.";
			break;
		}
		close;
	}
	else {
		mes "Enter the password exactly.";
		close;
	}
}

e_tower,69,117,4	script	Purification Stone#et1	406,{
	set etower_timer,0;
	mes "^0000ffThe records and aftereffects related to the Endless Tower have been removed. You can generate and enter the Endless Tower again.^000000";
	close;

OnInit:
	disablenpc "Purification Stone#et1";
	end;

OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	disablenpc "Purification Stone#et1";
	end;

OnTimer1000:
	enablenpc "Purification Stone#et1";
	end;

OnTimer1740000:
	mapannounce "e_tower", "The Purification Stone will be destroyed in one minute.",bc_map,"0x00ff99";
	end;

OnTimer1800000:
	disablenpc "Purification Stone#et1";
	end;
}

e_tower,151,185,4	script	Purification Stone#et2	844,{
	set etower_timer,0;
	mes "^0000ffThe records and aftereffects related to the Endless Tower have been removed. You can generate and enter the Endless Tower again.^000000";
	close;
	warp "e_tower",75,108;
	end;
}
*/

// Floors 1-25
// 樓層傳送 1-25
1@tower,50,360,0	script	不滅的火爐#	844,{
	mes "- 刻在火爐上的字 -";
	mes "在這裡灑下黑暗之灰燼吧，就可更接近黑暗之霸王夜勝魔一步了...";
	next;
	set .@move_name$,strcharinfo(0);
	switch(select("26樓:51樓:76樓")) {
	case 1:
		if (countitem(6000) < 1) {
			mes "-警告-";
			mes "想要傳送到26樓的話，需要1個黑暗之灰燼";
			close;
		}
		else {
			delitem 6000,1; //黑暗之灰燼
			instance_announce 0, .@move_name$ + ". You will be warped to the 26th Floor.",bc_map,"0x00ff99";
			warp "2@tower",52,354;
		}
		break;
	case 2:
		if (countitem(6000) < 2) {
			mes "-警告-";
			mes "想要傳送到51樓的話，需要2個黑暗之灰燼";
			close;
		}
		else {
			delitem 6000,2; //黑暗之灰燼
			instance_announce 0, .@move_name$ + ". You will be warped to the 51st Floor.",bc_map,"0x00ff99";
			warp "3@tower",52,354;
		}
		break;
	case 3:
		if (countitem(6000) < 3) {
			mes "-警告-";
			mes "想要傳送到76樓的話，需要3個黑暗之灰燼";
			close;
		}
		else {
			delitem 6000,3; //黑暗之灰燼
			instance_announce 0, .@move_name$ + ". You will be warped to the 76th Floor.",bc_map,"0x00ff99";
			warp "4@tower",52,354;
		}
		break;
	}
	end;
}

1@tower,29,365,1	script	#1F Controller	844,{
	end;

OnInstanceInit:
	areamonster "1@tower",7,351,17,387,"Metaling",1613,15,instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",7,351,17,387,"Marin",1242,5,instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",7,351,17,387,"Poporing",1031,5,instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",7,351,17,387,"Drops",1113,5,instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",7,351,17,387,"Mastering",1090,1,instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",7,351,17,387,"Poring",1002,5,instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("#1F Controller", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "1樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("1FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 1
	}
	else
		instance_announce 0, "1樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,12,393,0	script	1FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("1FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("1FGate102tower", instance_id());
	areamonster "1@tower",93,351,103,387,"Desert Wolf",1106,20,instance_npcname("1FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,351,103,387,"Vagabond Wolf",1092,1,instance_npcname("1FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,351,103,387,"Baby Desert Wolf",1107,10,instance_npcname("1FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",136,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("1FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "2樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("2FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 2
	}
	else
		instance_announce 0, "2樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,96,393,0	script	2FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("2FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("2FGate102tower", instance_id());
	areamonster "1@tower",181,351,191,387,"Archer Skeleton",1016,5,instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,351,191,387,"Skel Worker",1169,5,instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,351,191,387,"Soldier Skeleton",1028,5,instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,351,191,387,"Orc Skeleton",1152,5,instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,351,191,387,"Pirate Skeleton",1071,5,instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,351,191,387,"Skeleton",1076,5,instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",224,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("2FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "3樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("3FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 3
	}
	else
		instance_announce 0, "3樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,184,393,0	script	3FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("3FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("3FGate102tower", instance_id());
	areamonster "1@tower",267,351,277,387,"Argiope",1099,15,instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,351,277,387,"Mantis",1139,5,instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,351,277,387,"Argos",1100,5,instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,351,277,387,"Vocal",1088,1,instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,351,277,387,"Rocker",1052,5,instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,351,277,387,"Hornet",1004,5,instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",310,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("3FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "4樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("4FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 4
	}
	else
		instance_announce 0, "4樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,270,393,0	script	4FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("4FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("4FGate102tower", instance_id());
	areamonster "1@tower",352,351,362,387,"Golden Thief Bug",1086,1,instance_npcname("4FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,351,362,387,"Theif Bug Male",1054,15,instance_npcname("4FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,351,362,387,"Thief Bug Female",1053,15,instance_npcname("4FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,351,362,387,"Thief Bug",1051,15,instance_npcname("4FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,351,362,387,"Thief Bug Egg",1048,5,instance_npcname("4FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",395,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("4FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "5樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("5FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 5
	}
	else
		instance_announce 0, "5樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,355,393,0	script	5FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("5FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("5FGate102tower", instance_id());
	areamonster "1@tower",9,267,19,303,"Dragon Egg",1721,5,instance_npcname("5FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,267,19,303,"Thief Bug Egg",1048,5,instance_npcname("5FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,267,19,303,"Ant Egg",1097,5,instance_npcname("5FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,267,19,303,"Pupa",1008,5,instance_npcname("5FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",52,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("5FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "6樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("6FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 6
	}
	else
		instance_announce 0, "6樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,12,309,0	script	6FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("6FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("6FGate102tower", instance_id());
	areamonster "1@tower",93,267,103,303,"Explosion",1383,15,instance_npcname("6FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,267,103,303,"Drainliar",1111,15,instance_npcname("6FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,267,103,303,"Anopheles",1627,15,instance_npcname("6FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,267,103,303,"Farmiliar",1005,15,instance_npcname("6FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",136,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("6FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "7樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("7FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 7
	}
	else
		instance_announce 0, "7樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,96,309,0	script	7FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("7FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("7FGate102tower", instance_id());
	areamonster "1@tower",181,267,191,303,"Firelock Soldier",1403,15,instance_npcname("7FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,267,191,303,"Cruiser",1248,15,instance_npcname("7FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",224,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("7FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "8樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("8FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 8
	}
	else
		instance_announce 0, "8樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,184,309,0	script	8FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("8FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("8FGate102tower", instance_id());
	areamonster "1@tower",267,267,277,303,"Obsidian",1615,15,instance_npcname("8FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,267,277,303,"Golem",1040,15,instance_npcname("8FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,267,277,303,"Stapo",1784,10,instance_npcname("8FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",310,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("8FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "9樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("9FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 9
	}
	else
		instance_announce 0, "9樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,270,309,0	script	9FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("9FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("9FGate102tower", instance_id());
	areamonster "1@tower",352,267,362,303,"Mistress",1059,1,instance_npcname("9FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,267,362,303,"Giant Hornet",1303,25,instance_npcname("9FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,267,362,303,"Hornet",1004,20,instance_npcname("9FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",395,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("9FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "10樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("10FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 10
	}
	else
		instance_announce 0, "10樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,355,309,0	script	10FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("10FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("10FGate102tower", instance_id());
	areamonster "1@tower",9,180,19,216,"Dryad",1493,15,instance_npcname("10FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,180,19,216,"Parasite",1500,15,instance_npcname("10FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,180,19,216,"Hermit Plant",1413,15,instance_npcname("10FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,180,19,216,"Rafflesia",1162,5,instance_npcname("10FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",52,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("10FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "11樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("11FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 11
	}
	else
		instance_announce 0, "11樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,12,222,0	script	11FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("11FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("11FGate102tower", instance_id());
	areamonster "1@tower",93,180,103,216,"Demon Pungus",1378,25,instance_npcname("11FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,180,103,216,"Punk",1199,25,instance_npcname("11FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",136,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("11FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "12樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("12FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 12
	}
	else
		instance_announce 0, "12樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,96,222,0	script	12FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("12FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("12FGate102tower", instance_id());
	areamonster "1@tower",181,180,191,216,"Yao Yun",1512,15,instance_npcname("12FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,180,191,216,"Bongunn",1188,15,instance_npcname("12FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,180,191,216,"Munak",1026,10,instance_npcname("12FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",224,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("12FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "13樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("13FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 13
	}
	else
		instance_announce 0, "13樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,184,222,0	script	13FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("13FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("13FGate102tower", instance_id());
	areamonster "1@tower",267,180,277,216,"High Orc",1213,15,instance_npcname("13FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,180,277,216,"Orc Archer",1189,10,instance_npcname("13FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,180,277,216,"Orc Lady",1273,10,instance_npcname("13FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,180,277,216,"Orc Warrior",1023,5,instance_npcname("13FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,180,277,216,"Orc Baby",1686,5,instance_npcname("13FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",310,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("13FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "14樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("14FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 14
	}
	else
		instance_announce 0, "14樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,270,222,0	script	14FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("14FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("14FGate102tower", instance_id());
	areamonster "1@tower",352,180,362,216,"Maya",1147,1,instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,180,362,216,"Phreeoni",1159,1,instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,180,362,216,"Deniro",1105,15,instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,180,362,216,"Pierre",1160,15,instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,180,362,216,"Andre",1095,15,instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,180,362,216,"Ant Egg",1097,5,instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:

	warp "1@tower",395,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("14FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "15樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("15FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 15
	}
	else
		instance_announce 0, "15樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,355,222,0	script	15FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("15FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("15FGate102tower", instance_id());
	areamonster "1@tower",9,96,19,132,"Raydric Archer",1276,10,instance_npcname("15FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,96,19,132,"Orc Archer",1189,10,instance_npcname("15FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,96,19,132,"Gargoyle",1253,10,instance_npcname("15FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,96,19,132,"Archer Skeleton",1016,10,instance_npcname("15FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",52,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("15FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "16樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("16FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 16
	}
	else
		instance_announce 0, "16樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,12,138,0	script	16FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("16FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("16FGate102tower", instance_id());
	areamonster "1@tower",93,96,103,132,"Merman",1264,10,instance_npcname("16FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,96,103,132,"Baphomet Jr.",1101,10,instance_npcname("16FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,96,103,132,"Strouf",1065,15,instance_npcname("16FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,96,103,132,"Hill Wind",1629,5,instance_npcname("16FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",136,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("16FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "17樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("17FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 17
	}
	else
		instance_announce 0, "17樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,96,138,0	script	17FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("17FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("17FGate102tower", instance_id());
	areamonster "1@tower",181,96,191,132,"Cramp",1209,25,instance_npcname("17FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,96,191,132,"Tarou",1175,15,instance_npcname("17FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",224,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("17FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "18樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("18FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 18
	}
	else
		instance_announce 0, "18樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,184,138,0	script	18FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("18FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("18FGate102tower", instance_id());
	areamonster "1@tower",267,96,277,132,"Deviace",1108,10,instance_npcname("18FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,96,277,132,"Megalodon",1064,10,instance_npcname("18FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,96,277,132,"Swordfish",1069,10,instance_npcname("18FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,96,277,132,"Phen",1158,10,instance_npcname("18FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",310,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("18FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "19樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("19FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 19
	}
	else
		instance_announce 0, "19樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,270,138,0	script	19FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("19FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("19FGate102tower", instance_id());
	areamonster "1@tower",352,96,362,132,"Drake",1112,1,instance_npcname("19FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,96,362,132,"Pirate Skeleton",1071,50,instance_npcname("19FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",395,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("19FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "20樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("20FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 20
	}
	else
		instance_announce 0, "20樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,355,138,0	script	20FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("20FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("20FGate102tower", instance_id());
	areamonster "1@tower",9,9,19,45,"Plasma",1693,10,instance_npcname("20FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,9,19,45,"Plasma",1696,10,instance_npcname("20FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,9,19,45,"Plasma",1695,5,instance_npcname("20FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,9,19,45,"Plasma",1697,5,instance_npcname("20FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",9,9,19,45,"Plasma",1694,5,instance_npcname("20FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",52,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("20FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "21樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("21FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 21
	}
	else
		instance_announce 0, "21樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,12,51,0	script	21FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("21FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("21FGate102tower", instance_id());
	areamonster "1@tower",93,9,103,45,"Muscipular",1780,15,instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,9,103,45,"Drosera",1781,15,instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,9,103,45,"Flora",1118,15,instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,9,103,45,"Hydra",1068,15,instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,9,103,45,"Mandragora",1020,10,instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",93,9,103,45,"Rafflesia",1162,10,instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",136,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("21FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "22樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("22FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 22
	}
	else
		instance_announce 0, "22樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,96,51,0	script	22FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("22FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("22FGate102tower", instance_id());
	areamonster "1@tower",181,9,191,45,"Penomena",1216,15,instance_npcname("22FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,9,191,45,"Obeaune",1044,10,instance_npcname("22FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,9,191,45,"Marse",1144,10,instance_npcname("22FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,9,191,45,"Swordfish",1069,10,instance_npcname("22FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",181,9,191,45,"Hydra",1068,5,instance_npcname("22FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",224,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("22FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "23樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("23FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 23
	}
	else
		instance_announce 0, "23樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,184,51,0	script	23FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("23FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("23FGate102tower", instance_id());
	areamonster "1@tower",267,9,277,45,"Joker",1131,15,instance_npcname("23FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,9,277,45,"Carat",1267,15,instance_npcname("23FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",267,9,277,45,"Jakk",1130,10,instance_npcname("23FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",310,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("23FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "24樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("24FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 24
	}
	else
		instance_announce 0, "24樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,270,51,0	script	24FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("24FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("24FGate102tower", instance_id());
	areamonster "1@tower",352,9,362,45,"Cat o' Nine Tails",1307,15,instance_npcname("24FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,9,362,45,"Moonlight",1150,1,instance_npcname("24FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "1@tower",352,9,362,45,"Nine Tail",1180,15,instance_npcname("24FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "1@tower",395,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("1@tower",instance_npcname("24FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "25樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("25FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 25
	}
	else
		instance_announce 0, "25樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

1@tower,355,51,0	script	25FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("25FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("25FGate102tower", instance_id());
	initnpctimer;
	end;

OnTouch_:
	getitem 6000,1; //黑暗之灰燼
	warp "2@tower",52,354;
	end;

OnTimer120000:
	disablenpc instance_npcname("25FGate102tower", instance_id());
	donpcevent instance_npcname("25FGate102tower-2", instance_id())+"::OnEnable";
	stopnpctimer;
	end;
}

1@tower,355,51,0	script	25FGate102tower-2	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("25FGate102tower-2", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("25FGate102tower-2", instance_id());
	end;

OnTouch_:
	warp "2@tower",52,354;
	end;
}

/*
1@tower,71,1,0	script	#Manager Mode1	844,{
	mes "Please enter the password.";
	input .@inputstr$;
	next;
	if (.@inputstr$ == "dmc2008") {
		mes "This NPC manages the tower from the 1st to the 25th Floor.";
		mes "Please enter the Floor number to open.";
		mes "(i.g.: 1F->1, 25F->25)";
		input .@input,1,25;
		next;
		if (.@input < 1 || .@input > 25)
			mes "You can only enter a number from 1 to 25.";
		else {
			donpcevent instance_npcname(.@input+"FGate102tower", instance_id())+"::OnEnable";
			mes "*** Floor "+ .@input + " is now being opened. ***";
		}
	}
	close;
}
*/

// Floors 26-50
2@tower,29,365,2	script	Immortal Furnace#1	844,{
	end;

OnInstanceInit:
	areamonster "2@tower",9,351,19,387,"Gibbet",1503,10,instance_npcname("Immortal Furnace#1", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,351,19,387,"Enchanted Peach Tree",1410,10,instance_npcname("Immortal Furnace#1", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,351,19,387,"Wooden Golem",1497,10,instance_npcname("Immortal Furnace#1", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,351,19,387,"Stone Shooter",1495,10,instance_npcname("Immortal Furnace#1", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,351,19,387,"Elder Willow",1033,5,instance_npcname("Immortal Furnace#1", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("Immortal Furnace#1", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "26樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("26FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 26
	}
	else
		instance_announce 0, "26樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,12,393,0	script	26FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("26FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("26FGate102tower", instance_id());
	areamonster "2@tower",93,351,103,387,"Goblin Archer",1258,10,instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,351,103,387,"Goblin",1122,10,instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,351,103,387,"Goblin",1123,5,instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,351,103,387,"Goblin",1124,5,instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,351,103,387,"Gobin",1125,5,instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,351,103,387,"Goblin",1126,5,instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",136,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("26FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "27樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("27FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 27
	}
	else
		instance_announce 0, "27樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,96,393,0	script	27FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("27FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("27FGate102tower", instance_id());
	areamonster "2@tower",181,351,191,387,"Arclouse",1194,30,instance_npcname("27FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,351,191,387,"Neraid",1255,15,instance_npcname("27FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,351,191,387,"Pest",1256,15,instance_npcname("27FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,351,191,387,"Kukre",1070,10,instance_npcname("27FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",224,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("27FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "28樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("28FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 28
	}
	else
		instance_announce 0, "28樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,184,393,0	script	28FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("28FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("28FGate102tower", instance_id());
	areamonster "2@tower",267,351,277,387,"Dark Frame",1260,10,instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,351,277,387,"The Paper",1375,10,instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,351,277,387,"Hylozoist",1510,10,instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,351,277,387,"Quve",1508,5,instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,351,277,387,"Lude",1509,5,instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,351,277,387,"Whisper",1179,10,instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",310,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("28FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "29樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("29FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 29
	}
	else
		instance_announce 0, "29樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,270,393,0	script	29FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("29FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("29FGate102tower", instance_id());
	areamonster "2@tower",352,351,362,387,"White Lady",1630,1,instance_npcname("29FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,351,362,387,"Evil Nymph",1416,30,instance_npcname("29FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",395,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("29FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "30樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("30FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 30
	}
	else
		instance_announce 0, "30樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,355,393,0	script	30FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("30FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("30FGate102tower", instance_id());
	areamonster "2@tower",9,267,19,303,"Gig",1387,20,instance_npcname("30FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,267,19,303,"Iron Fist",1212,15,instance_npcname("30FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,267,19,303,"Argiope",1099,10,instance_npcname("30FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,267,19,303,"Scorpion",1001,5,instance_npcname("30FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",52,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("30FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "31樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("31FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 31
	}
	else
		instance_announce 0, "31樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,12,309,0	script	31FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("31FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("31FGate102tower", instance_id());
	areamonster "2@tower",93,267,103,303,"Goblin Leader",1299,1,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,267,103,303,"Goblin Archer",1258,10,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,267,103,303,"Goblin",1122,10,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,267,103,303,"Goblin",1123,5,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,267,103,303,"Goblin",1124,5,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,267,103,303,"Goblin",1125,5,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,267,103,303,"Goblin",1126,5,instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",136,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("31FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "32樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("32FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 32
	}
	else
		instance_announce 0, "32樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,96,309,0	script	32FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("32FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("32FGate102tower", instance_id());
	areamonster "2@tower",181,267,191,303,"Kobold Leader",1296,1,instance_npcname("32FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,267,191,303,"Kobold",1133,15,instance_npcname("32FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,267,191,303,"Kobold_Archer",1282,15,instance_npcname("32FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,267,191,303,"Kobold",1134,10,instance_npcname("32FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,267,191,303,"Kobold",1135,5,instance_npcname("32FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",224,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("32FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "33樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("33FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 33
	}
	else
		instance_announce 0, "33樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,184,309,0	script	33FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("33FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("33FGate102tower", instance_id());
	areamonster "2@tower",267,267,277,303,"Flame Skull",1869,20,instance_npcname("33FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,267,277,303,"Whisper",1179,10,instance_npcname("33FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,267,277,303,"Giant Whisper",1186,10,instance_npcname("33FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",310,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("33FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "34樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("34FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 34
	}
	else
		instance_announce 0, "34樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,270,309,0	script	34FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("34FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("34FGate102tower", instance_id());
	areamonster "2@tower",352,267,362,303,"Turtle General",1312,1,instance_npcname("34FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,267,362,303,"Freezer",1319,10,instance_npcname("34FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,267,362,303,"Solider",1316,10,instance_npcname("34FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,267,362,303,"Heater",1318,10,instance_npcname("34FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,267,362,303,"Permeter",1314,10,instance_npcname("34FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",395,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("34FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "35樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("35FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 35
	}
	else
		instance_announce 0, "35樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,355,309,0	script	35FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("35FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("35FGate102tower", instance_id());
	areamonster "2@tower",9,180,19,216,"Anolian",1206,30,instance_npcname("35FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,180,19,216,"Grove",1687,10,instance_npcname("35FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,180,19,216,"Alligator",1271,10,instance_npcname("35FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",52,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("35FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "36樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("36FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 36
	}
	else
		instance_announce 0, "36樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,12,222,0	script	36FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("36FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("36FGate102tower", instance_id());
	areamonster "2@tower",93,180,103,216,"Clock Tower Manager",1270,10,instance_npcname("36FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,180,103,216,"Clock",1269,10,instance_npcname("36FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,180,103,216,"Alarm",1193,30,instance_npcname("36FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",136,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("36FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "37樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("37FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 37
	}
	else
		instance_announce 0, "37樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,96,222,0	script	37FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("37FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("37FGate102tower", instance_id());
	areamonster "2@tower",181,180,191,216,"Death Word",1698,25,instance_npcname("37FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,180,191,216,"Rideword",1195,25,instance_npcname("37FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",224,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("37FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "38樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("38FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 38
	}
	else
		instance_announce 0, "38樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,184,222,0	script	38FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("38FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("38FGate102tower", instance_id());
	areamonster "2@tower",267,180,277,216,"Evil Nymph",1416,10,instance_npcname("38FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,180,277,216,"Mao Gui",1513,10,instance_npcname("38FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,180,277,216,"Taoist Hermit",1412,10,instance_npcname("38FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,180,277,216,"Zhu Po Long",1514,10,instance_npcname("38FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,180,277,216,"Jin Guai",1517,5,instance_npcname("38FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",310,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("38FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "39樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("39FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 39
	}
	else
		instance_announce 0, "39樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,270,222,0	script	39FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("39FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("39FGate102tower", instance_id());
	areamonster "2@tower",352,180,362,216,"Samurai Specter",1492,1,instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,180,362,216,"Shinobi",1401,10,instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,180,362,216,"Tengu",1405,10,instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,180,362,216,"Firelock Soldier",1403,5,instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,180,362,216,"Miyabi Doll",1404,10,instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,180,362,216,"Karakasa",1400,5,instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",395,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("39FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "40樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("40FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 40
	}
	else
		instance_announce 0, "40樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,355,222,0	script	40FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("40FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("40FGate102tower", instance_id());
	areamonster "2@tower",9,96,19,132,"Kraben",1587,50,instance_npcname("40FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",52,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("40FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "41樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("41FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 41
	}
	else
		instance_announce 0, "41樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,12,138,0	script	41FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("41FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("41FGate102tower", instance_id());
	areamonster "2@tower",93,96,103,132,"Sleeper",1386,20,instance_npcname("41FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,96,103,132,"Sting",1207,10,instance_npcname("41FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,96,103,132,"Mi Gao",1516,10,instance_npcname("41FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,96,103,132,"Sandman",1165,5,instance_npcname("41FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,96,103,132,"Hode",1127,5,instance_npcname("41FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",136,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("41FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "42樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("42FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 42
	}
	else
		instance_announce 0, "42樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,96,138,0	script	42FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("42FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("42FGate102tower", instance_id());
	areamonster "2@tower",181,96,191,132,"Medusa",1148,10,instance_npcname("42FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,96,191,132,"Sidewinder",1037,40,instance_npcname("42FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,96,191,132,"Anacondaq",1030,5,instance_npcname("42FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,96,191,132,"Boa",1025,5,instance_npcname("42FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",224,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("42FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "43樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("43FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 43
	}
	else
		instance_announce 0, "43樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,184,138,0	script	43FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("43FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("43FGate102tower", instance_id());
	areamonster "2@tower",267,96,277,132,"Hatii Baby",1515,20,instance_npcname("43FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,96,277,132,"Baphomet Jr.",1101,20,instance_npcname("43FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,96,277,132,"Orc Baby",1686,1,instance_npcname("43FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,96,277,132,"Baby Desert Wolf",1107,10,instance_npcname("43FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,96,277,132,"Savage Babe",1167,10,instance_npcname("43FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",310,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("43FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "44樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("44FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 44
	}
	else
		instance_announce 0, "44樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,270,138,0	script	44FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("44FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("44FGate102tower", instance_id());
	areamonster "2@tower",352,96,362,132,"Osiris",1038,1,instance_npcname("44FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,96,362,132,"Ancient Mummy",1297,15,instance_npcname("44FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,96,362,132,"Verit",1032,15,instance_npcname("44FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,96,362,132,"Mummy",1041,20,instance_npcname("44FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",395,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("44FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "45樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("45FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 45
	}
	else
		instance_announce 0, "45樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,355,138,0	script	45FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("45FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("45FGate102tower", instance_id());
	areamonster "2@tower",9,9,19,45,"Seeker",1774,20,instance_npcname("45FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",9,9,19,45,"Beholder",1633,20,instance_npcname("45FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",52,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("45FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "46樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("46FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 46
	}
	else
		instance_announce 0, "46樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,12,51,0	script	46FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("46FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("46FGate102tower", instance_id());
	areamonster "2@tower",93,9,103,45,"Deleter",1384,20,instance_npcname("46FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,9,103,45,"Deleter",1385,10,instance_npcname("46FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,9,103,45,"Petite",1156,10,instance_npcname("46FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",93,9,103,45,"Petite",1155,10,instance_npcname("46FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",136,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("46FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "47樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("47FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 47
	}
	else
		instance_announce 0, "47 Floor - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,96,51,0	script	47FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("47FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("47FGate102tower", instance_id());
	areamonster "2@tower",181,9,191,45,"Ancient Worm",1305,10,instance_npcname("47FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,9,191,45,"Ancient Mummy",1297,10,instance_npcname("47FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",181,9,191,45,"Ancient Mimic",1699,10,instance_npcname("47FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",224,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("47FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "48樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("48FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 48
	}
	else
		instance_announce 0, "48樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,184,51,0	script	48FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("48FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("48FGate102tower", instance_id());
	areamonster "2@tower",267,9,277,45,"Grizzly",1381,20,instance_npcname("48FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,9,277,45,"Leib Olmai",1306,7,instance_npcname("48FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,9,277,45,"Zipper Bear",1417,5,instance_npcname("48FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,9,277,45,"Sasquatch",1243,5,instance_npcname("48FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",267,9,277,45,"Bigfoot",1060,5,instance_npcname("48FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",310,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("48FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "49樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("49FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 49
	}
	else
		instance_announce 0, "49樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,270,51,0	script	49FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("49FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("49FGate102tower", instance_id());
	areamonster "2@tower",352,9,362,45,"Pharaoh",1157,1,instance_npcname("49FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,9,362,45,"Amon Ra",1511,1,instance_npcname("49FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,9,362,45,"Anubis",1098,10,instance_npcname("49FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,9,362,45,"Marduk",1140,10,instance_npcname("49FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "2@tower",352,9,362,45,"Matyr",1146,10,instance_npcname("49FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "2@tower",395,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("2@tower",instance_npcname("49FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "50樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("50FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 50
	}
	else
		instance_announce 0, "50樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

2@tower,355,51,0	script	50FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("50FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("50FGate102tower", instance_id());
	initnpctimer;
	end;

OnTouch_:
	getitem 6000,1; //黑暗之灰燼
	warp "3@tower",52,354;
	end;

OnTimer120000:
	disablenpc instance_npcname("50FGate102tower", instance_id());
	donpcevent instance_npcname("50FGate102tower-2", instance_id())+"::OnEnable";
	stopnpctimer;
	end;
}

2@tower,355,51,0	script	50FGate102tower-2	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("50FGate102tower-2", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("50FGate102tower-2", instance_id());
	end;

OnTouch_:
	warp "3@tower",52,354;
	end;
}

/*
2@tower,71,1,0	script	#Manager Mode2	844,{
	mes "Please enter the password.";
	input .@inputstr$;
	next;
	if (.@inputstr$ == "dmc2008") {
		mes "This NPC manages the tower from the 26st to the 50th Floor.";
		mes "Please enter the Floor number to open.";
		mes "(i.g.: 26F->26, 50F->50)";
		input .@input,26,50;
		next;
		if (.@onput < 26 || .@input > 50)
			mes "You can only enter a number from 26 to 50.";
		else {
			donpcevent instance_npcname(.@input+"FGate102tower", instance_id())+"::OnEnable";
			mes "*** Floor "+ .@input + " is now being opened. ***";
		}
	}
	close;
}
*/

// Floors 51-75
3@tower,29,365,2	script	Immortal Furnace#2	844,{
	end;

OnInstanceInit:
	areamonster "3@tower",9,351,19,387,"Mini Demon",1292,20,instance_npcname("Immortal Furnace#2", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,351,19,387,"Diabolic",1382,20,instance_npcname("Immortal Furnace#2", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,351,19,387,"Deviruchi",1109,10,instance_npcname("Immortal Furnace#2", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("Immortal Furnace#2", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "51樓的魔物已全部消滅",bc_map,"0xffff00";
		donpcevent instance_npcname("51FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 51
	}
	else
		instance_announce 0, "51樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,12,393,0	script	51FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("51FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("51FGate102tower", instance_id());
	areamonster "3@tower",93,351,103,387,"Harpy",1376,20,instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,351,103,387,"Grand Peco",1369,10,instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,351,103,387,"Bloody Butterfly",1408,10,instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,351,103,387,"Gargoyle",1253,10,instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,351,103,387,"Hill Wind",1680,5,instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,351,103,387,"Hill Wind",1629,5,instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",136,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("51FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "52樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("52FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 52
	}
	else
		instance_announce 0, "52樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,96,393,0	script	52FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("52FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("52FGate102tower", instance_id());
	areamonster "3@tower",181,351,191,387,"Assaulter",1315,25,instance_npcname("52FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,351,191,387,"Shinobi",1401,30,instance_npcname("52FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",224,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("52FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "53樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("53FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 53
	}
	else
		instance_announce 0, "53樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,184,393,0	script	53FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("53FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("53FGate102tower", instance_id());
	areamonster "3@tower",267,351,277,387,"Chepet",1250,10,instance_npcname("53FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,351,277,387,"Mariontte",1143,10,instance_npcname("53FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,351,277,387,"Miyabi Doll",1404,10,instance_npcname("53FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",310,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("53FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "54樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("54FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 54
	}
	else
		instance_announce 0, "54樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,270,393,0	script	54FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("54FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("54FGate102tower", instance_id());
	areamonster "3@tower",352,351,362,387,"Medusa",1148,25,instance_npcname("54FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,351,362,387,"Evil Snake Lord",1418,1,instance_npcname("54FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,351,362,387,"Isis",1029,15,instance_npcname("54FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,351,362,387,"Sidewinder",1037,15,instance_npcname("54FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",395,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("54FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "55樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("55FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 55
	}
	else
		instance_announce 0, "55樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,355,393,0	script	55FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("55FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("55FGate102tower", instance_id());
	areamonster "3@tower",9,267,19,303,"Freezer",1319,10,instance_npcname("55FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,267,19,303,"Hatii Baby",1515,10,instance_npcname("55FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,267,19,303,"Ice Titan",1777,15,instance_npcname("55FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,267,19,303,"Snowier",1775,10,instance_npcname("55FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,267,19,303,"Gazeti",1778,10,instance_npcname("55FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",52,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("55FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "56樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("56FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 56
	}
	else
		instance_announce 0, "56樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,12,309,0	script	56FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("56FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("56FGate102tower", instance_id());
	areamonster "3@tower",93,267,103,303,"Arc Angeling",1388,1,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Deviling",1582,1,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Angeling",1096,1,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Ghostring",1120,1,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Mastering",1090,1,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Metaling",1613,25,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Marin",1242,5,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Poporing",1031,5,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,267,103,303,"Drops",1113,5,instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",136,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("56FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "57樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("57FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 57
	}
	else
		instance_announce 0, "57樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,96,309,0	script	57FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("57FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("57FGate102tower", instance_id());
	areamonster "3@tower",181,267,191,303,"Phendark",1202,20,instance_npcname("57FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,267,191,303,"Rybio",1201,10,instance_npcname("57FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,267,191,303,"Zombie Prisoner",1197,10,instance_npcname("57FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,267,191,303,"Skeleton Prisoner",1196,5,instance_npcname("57FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,267,191,303,"Injustice",1257,5,instance_npcname("57FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",224,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("57FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "58樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("58FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 58
	}
	else
		instance_announce 0, "58樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,184,309,0	script	58FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("58FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("58FGate102tower", instance_id());
	areamonster "3@tower",267,267,277,303,"Ancient Mimic",1699,30,instance_npcname("58FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,267,277,303,"Mimic",1191,20,instance_npcname("58FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,267,277,303,"Mystcase",1249,10,instance_npcname("58FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",310,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("58FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "59樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("59FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 59
	}
	else
		instance_announce 0, "59樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,270,309,0	script	59FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("59FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("59FGate102tower", instance_id());
	areamonster "3@tower",352,267,362,303,"Egnigem Cenia",1658,1,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Doppelganger",1046,1,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Armeyer Dinze",1654,10,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Wickebine Tres",1653,10,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Laurell Winder",1657,10,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Kavach Icarus",1656,10,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Errende Ebecee",1655,10,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,267,362,303,"Egnigem Cenia",1652,10,instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",395,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("59FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "60樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("60FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 60
	}
	else
		instance_announce 0, "60樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,355,309,0	script	60FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("60FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("60FGate102tower", instance_id());
	areamonster "3@tower",9,180,19,216,"Agav",1769,10,instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,180,19,216,"Echio",1770,10,instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,180,19,216,"Isilla",1772,5,instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,180,19,216,"Mobster",1313,10,instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,180,19,216,"Pasana",1154,10,instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,180,19,216,"Vanberk",1771,5,instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",52,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("60FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "61樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("61FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 61
	}
	else
		instance_announce 0, "61樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,12,222,0	script	61FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("61FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("61FGate102tower", instance_id());
	areamonster "3@tower",93,180,103,216,"Wanderer",1208,35,instance_npcname("61FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",136,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("61FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "62樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("62FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 62
	}
	else
		instance_announce 0, "62樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,96,222,0	script	62FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("62FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("62FGate102tower", instance_id());
	areamonster "3@tower",181,180,191,216,"Ragged Zombie",1865,20,instance_npcname("62FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,180,191,216,"Zombie Master",1298,10,instance_npcname("62FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,180,191,216,"Zombie Prisoner",1197,5,instance_npcname("62FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,180,191,216,"Orc Zombie",1153,5,instance_npcname("62FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,180,191,216,"Zombie",1015,5,instance_npcname("62FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",224,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("62FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "63樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("63FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 63
	}
	else
		instance_announce 0, "63樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,184,222,0	script	63FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("63FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("63FGate102tower", instance_id());
	areamonster "3@tower",267,180,277,216,"Ungoliant",1618,30,instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,180,277,216,"Ancient Worm",1305,2,instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,180,277,216,"Caterpillar",1300,2,instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,180,277,216,"Creamy Fear",1293,2,instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,180,277,216,"Killer Mantis",1294,2,instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,180,277,216,"Giant Hornet",1303,2,instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",310,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("63FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "64樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("64FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 64
	}
	else
		instance_announce 0, "64樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,270,222,0	script	64FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("64FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("64FGate102tower", instance_id());
	areamonster "3@tower",352,180,362,216,"Atros",1785,1,instance_npcname("64FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,180,362,216,"Galion",1783,20,instance_npcname("64FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",395,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("64FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "65樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("65FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 65
	}
	else
		instance_announce 0, "65樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,355,222,0	script	65FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("65FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("65FGate102tower", instance_id());
	areamonster "3@tower",9,96,19,132,"Incubus",1374,20,instance_npcname("65FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,96,19,132,"Aliot",1736,20,instance_npcname("65FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,96,19,132,"Injustice",1257,10,instance_npcname("65FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",52,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("65FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "66樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("66FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 66
	}
	else
		instance_announce 0, "66樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,12,138,0	script	66FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("66FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("66FGate102tower", instance_id());
	areamonster "3@tower",93,96,103,132,"Acidus",1716,10,instance_npcname("66FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,96,103,132,"Acidus",1713,10,instance_npcname("66FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,96,103,132,"Deleter",1384,5,instance_npcname("66FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,96,103,132,"Mutant Dragonoid",1262,10,instance_npcname("66FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,96,103,132,"Petite",1156,5,instance_npcname("66FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",136,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("66FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "67樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("67FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 67
	}
	else
		instance_announce 0, "67樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,96,138,0	script	67FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("67FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("67FGate102tower", instance_id());
	areamonster "3@tower",181,96,191,132,"Lava Golem",1366,10,instance_npcname("67FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,96,191,132,"Stalactic Golem",1278,10,instance_npcname("67FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,96,191,132,"Ice Titan",1777,10,instance_npcname("67FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,96,191,132,"Wooden Golem",1497,5,instance_npcname("67FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,96,191,132,"Golem",1040,5,instance_npcname("67FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",224,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("67FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "68樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("68FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 68
	}
	else
		instance_announce 0, "68樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,184,138,0	script	68FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("68FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("68FGate102tower", instance_id());
	areamonster "3@tower",267,96,277,132,"Dame of Sentinel",1700,20,instance_npcname("68FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,96,277,132,"Mistress of Shelter",1701,10,instance_npcname("68FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,96,277,132,"Baroness of Retribution",1702,10,instance_npcname("68FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,96,277,132,"Lady Solace",1703,10,instance_npcname("68FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,96,277,132,"False Angel",1371,10,instance_npcname("68FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",310,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("68FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "69樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("69FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 69
	}
	else
		instance_announce 0, "69樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,270,138,0	script	69FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("69FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("69FGate102tower", instance_id());
	areamonster "3@tower",352,96,362,132,"Orc Hero",1087,1,instance_npcname("69FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,96,362,132,"Orc Lord",1190,1,instance_npcname("69FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,96,362,132,"Orc Baby",1686,20,instance_npcname("69FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",395,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("69FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "70樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("70FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 70
	}
	else
		instance_announce 0, "70樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,355,138,0	script	70FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("70FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("70FGate102tower", instance_id());
	areamonster "3@tower",9,9,19,45,"Succubus",1370,20,instance_npcname("70FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,9,19,45,"Nightmare Terror",1379,20,instance_npcname("70FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,9,19,45,"Incubus",1374,20,instance_npcname("70FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",9,9,19,45,"Nightmare",1061,5,instance_npcname("70FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",52,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("70FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "71樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("71FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 71
	}
	else
		instance_announce 0, "71樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,12,51,0	script	71FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("71FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("71FGate102tower", instance_id());
	areamonster "3@tower",93,9,103,45,"Margaretha Sorin",1637,10,instance_npcname("71FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,9,103,45,"Permeter",1314,10,instance_npcname("71FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,9,103,45,"Errende Ebecee",1655,10,instance_npcname("71FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",93,9,103,45,"Enchanted Peach Tree",1410,10,instance_npcname("71FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",136,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("71FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "72樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("72FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 72
	}
	else
		instance_announce 0, "72樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,96,51,0	script	72FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("72FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("72FGate102tower", instance_id());
	areamonster "3@tower",181,9,191,45,"Succubus",1370,10,instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,9,191,45,"Loli Ruri",1505,20,instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,9,191,45,"Aliza",1737,10,instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,9,191,45,"Zealotus",1200,5,instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,9,191,45,"Alice",1275,5,instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",181,9,191,45,"Green Maiden",1519,10,instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",224,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("72FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "73樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("73FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 73
	}
	else
		instance_announce 0, "73樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,184,51,0	script	73FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("73FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("73FGate102tower", instance_id());
	areamonster "3@tower",267,9,277,45,"Dimik",1671,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Dimik",1673,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Dimik",1672,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Venatu",1677,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Dimik",1670,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Archdam",1668,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Venatu",1678,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Venatu",1679,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",267,9,277,45,"Venatu",1676,6,instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",310,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("73FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "74樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("74FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 74
	}
	else
		instance_announce 0, "74樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,270,51,0	script	74FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("74FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("74FGate102tower", instance_id());
	areamonster "3@tower",352,9,362,45,"Baphomet",1039,1,instance_npcname("74FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,9,362,45,"Dark Lord",1272,1,instance_npcname("74FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,9,362,45,"Baphomet Jr.",1101,20,instance_npcname("74FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "3@tower",352,9,362,45,"Dark Illusion",1302,10,instance_npcname("74FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "3@tower",395,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("3@tower",instance_npcname("74FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "75樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("75FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 75
	}
	else
		instance_announce 0, "75樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

3@tower,355,51,0	script	75FGate102tower	45,1,1,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("75FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("75FGate102tower", instance_id());
	initnpctimer;
	end;

OnTouch_:
	getitem 6000,1; //黑暗之灰燼
	warp "4@tower",52,354;
	end;

OnTimer120000:
	disablenpc instance_npcname("75FGate102tower", instance_id());
	donpcevent instance_npcname("75FGate102tower-2", instance_id())+"::OnEnable";
	stopnpctimer;
	end;
}

3@tower,355,51,0	script	75FGate102tower-2	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("75FGate102tower-2", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("75FGate102tower-2", instance_id());
	end;

OnTouch_:
	warp "4@tower",52,354;
	end;
}

/*
3@tower,71,1,0	script	#Manager Mode3	844,{
	mes "Please enter the password.";
	input .@inputstr$;
	next;
	if (.@inputstr$ == "dmc2008") {
		mes "This NPC manages the tower from the 51st to the 75th Floor.";
		mes "Please enter the Floor number to open.";
		mes "(i.g.: 51F->51, 75F->75)";
		input .@input,51,75;
		next;
		if (.@input < 51 || .@input > 75)
			mes "You can only enter a number from 51 to 75.";
		else {
			donpcevent instance_npcname(.@input+"FGate102tower", instance_id())+"::OnEnable";
			mes "*** Floor "+ .@input + " is now being opened. ***";
		}
	}
	close;
}
*/

// Floors 76-99
4@tower,29,365,2	script	Immortal Furnace#3	844,{
	end;

OnInstanceInit:
	areamonster "4@tower",9,351,19,387,"Abysmal Knight",1219,30,instance_npcname("Immortal Furnace#3", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,351,19,387,"Nightmare Terror",1379,20,instance_npcname("Immortal Furnace#3", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,351,19,387,"Nightmare",1061,10,instance_npcname("Immortal Furnace#3", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("Immortal Furnace#3", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "76樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("76FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 76
	}
	else
		instance_announce 0,"76樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,12,393,0	script	76FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("76FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("76FGate102tower", instance_id());
	areamonster "4@tower",93,351,103,387,"Banshee",1867,30,instance_npcname("76FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,351,103,387,"Wraith Dead",1291,10,instance_npcname("76FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,351,103,387,"Evil Druid",1117,10,instance_npcname("76FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,351,103,387,"Wraith",1192,10,instance_npcname("76FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,351,103,387,"Wind Ghost",1263,10,instance_npcname("76FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",136,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("76FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "77樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("77FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 77
	}
	else
		instance_announce 0,"77樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,96,393,0	script	77FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("77FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("77FGate102tower", instance_id());
	areamonster "4@tower",181,351,191,387,"Sword Master",1829,5,instance_npcname("77FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,351,191,387,"Bloody Knight",1268,10,instance_npcname("77FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,351,191,387,"Abysmal Knight",1219,5,instance_npcname("77FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,351,191,387,"Dullahan",1504,10,instance_npcname("77FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,351,191,387,"Raydric",1163,20,instance_npcname("77FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",224,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("77FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "78樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("78FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 78
	}
	else
		instance_announce 0,"78樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,184,393,0	script	78FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("78FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("78FGate102tower", instance_id());
	areamonster "4@tower",267,351,277,387,"Hydro",1720,10,instance_npcname("78FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,351,277,387,"Ferus",1714,10,instance_npcname("78FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,351,277,387,"Ferus",1717,10,instance_npcname("78FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,351,277,387,"Deleter",1385,5,instance_npcname("78FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,351,277,387,"Petite",1155,5,instance_npcname("78FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",310,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("78FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "79樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("79FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 79
	}
	else
		instance_announce 0,"79樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,270,393,0	script	79FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("79FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("79FGate102tower", instance_id());
	areamonster "4@tower",352,351,362,387,"Falling Bishop",1871,1,instance_npcname("79FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,351,362,387,"Necromancer",1870,15,instance_npcname("79FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",395,354;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("79FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "80樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("80FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 80
	}
	else
		instance_announce 0,"80樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,355,393,0	script	80FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("80FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("80FGate102tower", instance_id());
	areamonster "4@tower",9,267,19,303,"Mysteltainn",1203,20,instance_npcname("80FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,267,19,303,"Ogretooth",1204,20,instance_npcname("80FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,267,19,303,"Executioner",1205,20,instance_npcname("80FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",52,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("80FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "81樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("81FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 81
	}
	else
		instance_announce 0,"81樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,12,309,0	script	81FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("81FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("81FGate102tower", instance_id());
	areamonster "4@tower",93,267,103,303,"Bloody Knight",1268,10,instance_npcname("81FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,267,103,303,"Agav",1769,10,instance_npcname("81FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,267,103,303,"Bloody Murderer",1507,10,instance_npcname("81FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,267,103,303,"Skogul",1752,10,instance_npcname("81FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,267,103,303,"Injustice",1257,10,instance_npcname("81FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",136,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("81FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "82樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("82FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 82
	}
	else
		instance_announce 0,"82樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,96,309,0	script	82FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("82FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("82FGate102tower", instance_id());
	areamonster "4@tower",181,267,191,303,"Skeggiold",1754,10,instance_npcname("82FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,267,191,303,"Dark Illusion",1302,10,instance_npcname("82FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,267,191,303,"Gryphon",1259,10,instance_npcname("82FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,267,191,303,"Chimera",1283,10,instance_npcname("82FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",224,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("82FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "83樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("83FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 83
	}
	else
		instance_announce 0,"83樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,184,309,0	script	83FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("83FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("83FGate102tower", instance_id());
	areamonster "4@tower",267,267,277,303,"Succubus",1370,10,instance_npcname("83FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,267,277,303,"Dark Illusion",1302,20,instance_npcname("83FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,267,277,303,"Owl Duke",1320,10,instance_npcname("83FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,267,277,303,"Owl Baron",1295,10,instance_npcname("83FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,267,277,303,"Incubus",1374,10,instance_npcname("83FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",310,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("83FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "84樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("84FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 84
	}
	else
		instance_announce 0,"84樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,270,309,0	script	84FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("84FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("84FGate102tower", instance_id());
	areamonster "4@tower",352,267,362,303,"Ifrit",1832,1,instance_npcname("84FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",395,270;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("84FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "85樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("85FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 85
	}
	else
		instance_announce 0,"85樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,355,309,0	script	85FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("85FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("85FGate102tower", instance_id());
	areamonster "4@tower",9,180,19,216,"Hydro",1720,10,instance_npcname("85FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,180,19,216,"Gryphon",1259,10,instance_npcname("85FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,180,19,216,"Chimera",1283,10,instance_npcname("85FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,180,19,216,"Majoruros",1310,10,instance_npcname("85FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",52,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("85FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "86樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("86FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 86
	}
	else
		instance_announce 0,"86樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,12,222,0	script	86FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("86FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("86FGate102tower", instance_id());
	areamonster "4@tower",93,180,103,216,"Salamander",1831,15,instance_npcname("86FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,180,103,216,"Kasa",1833,20,instance_npcname("86FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,180,103,216,"Lava Golem",1366,15,instance_npcname("86FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,180,103,216,"Gajomart",1309,10,instance_npcname("86FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",136,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("86FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "87樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("87FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 87
	}
	else
		instance_announce 0,"87樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,96,222,0	script	87FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("87FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("87FGate102tower", instance_id());
	areamonster "4@tower",181,180,191,216,"Necromancer",1870,15,instance_npcname("87FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,180,191,216,"Anubis",1098,15,instance_npcname("87FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,180,191,216,"Wraith Dead",1291,10,instance_npcname("87FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,180,191,216,"Ancient Mummy",1297,10,instance_npcname("87FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,180,191,216,"Khalitzburg",1132,10,instance_npcname("87FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",224,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("87FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "88樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("88FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 88
	}
	else
		instance_announce 0,"88樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,184,222,0	script	88FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("88FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("88FGate102tower", instance_id());
	areamonster "4@tower",267,180,277,216,"Odium of Thanatos",1704,6,instance_npcname("88FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,180,277,216,"Despero of Thanatos",1705,6,instance_npcname("88FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,180,277,216,"Maero of Thanatos",1706,6,instance_npcname("88FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,180,277,216,"Dolor of Thanatos",1707,6,instance_npcname("88FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",310,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("88FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "89樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("89FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 89
	}
	else
		instance_announce 0,"89樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,270,222,0	script	89FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("89FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("89FGate102tower", instance_id());
	areamonster "4@tower",352,180,362,216,"Valkyrie Randgris",1751,1,instance_npcname("89FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,180,362,216,"Baroness of Retribution",1702,10,instance_npcname("89FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,180,362,216,"Lady Solace",1703,10,instance_npcname("89FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,180,362,216,"False Angel",1371,10,instance_npcname("89FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",395,183;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("89FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "90樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("90FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 90
	}
	else
		instance_announce 0,"90樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,355,222,0	script	90FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("90FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("90FGate102tower", instance_id());
	areamonster "4@tower",9,96,19,132,"Cecil Damon",1638,10,instance_npcname("90FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,96,19,132,"Bow Master",1830,10,instance_npcname("90FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,96,19,132,"Kavac",1656,30,instance_npcname("90FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",52,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("90FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "91樓的魔物已全部消滅了.",bc_map,"0xffff00";
		donpcevent instance_npcname("91FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 91
	}
	else 
		instance_announce 0,"91樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,12,138,0	script	91FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("91FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("91FGate102tower", instance_id());
	areamonster "4@tower",93,96,103,132,"Kathryne Keyron",1639,15,instance_npcname("91FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,96,103,132,"Elder",1377,10,instance_npcname("91FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,96,103,132,"Laurell Weinder",1657,10,instance_npcname("91FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,96,103,132,"Wind Ghost",1263,10,instance_npcname("91FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,96,103,132,"Marduk",1140,10,instance_npcname("91FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",136,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("91FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "92樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("92FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 92
	}
	else
		instance_announce 0,"92樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,96,138,0	script	92FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("92FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("92FGate102tower", instance_id());
	areamonster "4@tower",181,96,191,132,"Seyren Windsor",1634,15,instance_npcname("92FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,96,191,132,"Bloody Knight",1268,10,instance_npcname("92FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,96,191,132,"Abysmal Knight",1219,10,instance_npcname("92FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,96,191,132,"Wanderer",1208,10,instance_npcname("92FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",224,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("92FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "93樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("93FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 93
	}
	else
		instance_announce 0,"93樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,184,138,0	script	93FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("93FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("93FGate102tower", instance_id());
	areamonster "4@tower",267,96,277,132,"Sword Master",1829,15,instance_npcname("93FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",267,96,277,132,"Bow Master",1830,15,instance_npcname("93FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",310,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("93FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "94樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("94FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 94
	}
	else
		instance_announce 0,"94樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,270,138,0	script	94FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("94FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("94FGate102tower", instance_id());
	areamonster "4@tower",352,96,362,132,"Beelzebub",1873,1,instance_npcname("94FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,96,362,132,"Hunter Fly",1035,30,instance_npcname("94FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,96,362,132,"Steel Chonchon",1042,5,instance_npcname("94FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,96,362,132,"Dragon FLy",1091,5,instance_npcname("94FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",352,96,362,132,"Chonchon",1011,5,instance_npcname("94FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",395,99;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("94FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "95樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("95FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 95
	}
	else
		instance_announce 0,"95樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,355,138,0	script	95FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("95FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("95FGate102tower", instance_id());
	areamonster "4@tower",9,9,19,45,"Valkyrie",1765,5,instance_npcname("95FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,9,19,45,"Skeggiold",1755,10,instance_npcname("95FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",9,9,19,45,"Skeggiold",1754,10,instance_npcname("95FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",52,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("95FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "96樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("96FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 96
	}
	else
		instance_announce 0,"96樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,12,51,0	script	96FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("96FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("96FGate102tower", instance_id());
	areamonster "4@tower",93,9,103,45,"Incarnation of Morroc",1918,5,instance_npcname("96FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,9,103,45,"Incarnation of Morroc",1919,5,instance_npcname("96FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,9,103,45,"Incarnation of Morroc",1920,5,instance_npcname("96FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",93,9,103,45,"Incarnation of Morroc",1921,5,instance_npcname("96FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",136,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("96FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "97樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("97FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 97
	}
	else
		instance_announce 0,"97樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,96,51,0	script	97FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("97FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("97FGate102tower", instance_id());
	areamonster "4@tower",181,9,191,45,"Kathryne Keyron",1639,2,instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,9,191,45,"Seyren Windsor",1634,2,instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,9,191,45,"Margaretha Sorin",1637,2,instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,9,191,45,"Eremes Guile",1635,2,instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,9,191,45,"Howard Alt-Eisen",1636,2,instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead";
	areamonster "4@tower",181,9,191,45,"Cecil Damon",1638,2,instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead";
	end;

OnTouch_:
	warp "4@tower",224,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("97FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "98樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("98FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 98
	}
	else
		instance_announce 0,"98樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,184,51,0	script	98FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("98FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("98FGate102tower", instance_id());
	for( set .@i, 1; .@i <= 7; set .@i, .@i + 1 ) {
		set .@mob_ran,rand(1,30);
		if (.@mob_ran == 1) 
			areamonster "4@tower",267,9,277,45,"Kathryne Keyron",1639,2,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 2) 
			areamonster "4@tower",267,9,277,45,"Seyren Windsor",1634,2,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 3) 
			areamonster "4@tower",267,9,277,45,"Margaretha Sorin",1637,2,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 4) 
			areamonster "4@tower",267,9,277,45,"Eremes Guile",1635,2,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 5) 
			areamonster "4@tower",267,9,277,45,"Howard Alt-Eisen",1636,2,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 6) 
			areamonster "4@tower",267,9,277,45,"Cecil Damon",1638,2,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 7) 
			areamonster "4@tower",267,9,277,45,"Incarnation of Morroc",1918,5,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 8) 
			areamonster "4@tower",267,9,277,45,"Incarnation of Morroc",1919,5,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 9) 
			areamonster "4@tower",267,9,277,45,"Incarnation of Morroc",1920,5,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 10) 
			areamonster "4@tower",267,9,277,45,"Incarnation of Morroc",1921,5,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 11) 
			areamonster "4@tower",267,9,277,45,"Valkyrie",1765,5,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 12) 
			areamonster "4@tower",267,9,277,45,"Skeggiold",1755,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 13) 
			areamonster "4@tower",267,9,277,45,"Skeggiold",1754,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 14) 
			areamonster "4@tower",267,9,277,45,"Seyren Windsor",1634,15,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 15) 
			areamonster "4@tower",267,9,277,45,"Bloody Knight",1268,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 16) 
			areamonster "4@tower",267,9,277,45,"Abysmal Knight",1219,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 17) 
			areamonster "4@tower",267,9,277,45,"Wanderer",1208,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 18) 
			areamonster "4@tower",267,9,277,45,"Sword Master",1829,15,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 19) 
			areamonster "4@tower",267,9,277,45,"Bow Master",1830,15,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 20) 
			areamonster "4@tower",267,9,277,45,"Kathryne Keyron",1639,15,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 21) 
			areamonster "4@tower",267,9,277,45,"Elder",1377,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 22) 
			areamonster "4@tower",267,9,277,45,"Laurell Weinder",1657,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 23) 
			areamonster "4@tower",267,9,277,45,"Wind Ghost",1263,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 24) 
			areamonster "4@tower",267,9,277,45,"Marduk",1140,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 25) 
			areamonster "4@tower",267,9,277,45,"Cecil Damon",1638,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 26) 
			areamonster "4@tower",267,9,277,45,"Bow Master",1830,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 27) 
			areamonster "4@tower",267,9,277,45,"Kavach Icarus",1656,30,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 28) 
			areamonster "4@tower",267,9,277,45,"Baroness of Retribution",1702,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else if (.@mob_ran == 29) 
			areamonster "4@tower",267,9,277,45,"Lady Solace",1703,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
		else 
			areamonster "4@tower",267,9,277,45,"False Angel",1371,10,instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead";
	}
	end;

OnTouch_:
	warp "4@tower",309,12;
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("4@tower",instance_npcname("98FGate102tower", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0,"99樓的魔物已全部消滅了",bc_map,"0xffff00";
		donpcevent instance_npcname("99FGate102tower", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 99
	}
	else
		instance_announce 0,"99樓裡剩下的魔物 - " + .@mob_dead_num,bc_map,"0x00ff99";
	end;
}

4@tower,271,51,0	script	99FGate102tower	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("99FGate102tower", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("99FGate102tower", instance_id());
	initnpctimer;
	end;

OnTouch_:
	getitem 6000,1; //黑暗之灰燼
	warp "5@tower",101,72;
	end;

OnTimer120000:
	disablenpc instance_npcname("99FGate102tower", instance_id());
	donpcevent instance_npcname("99FGate102tower-2", instance_id())+"::OnEnable";
	stopnpctimer;
	end;
}

4@tower,271,51,0	script	99FGate102tower-2	45,2,2,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("99FGate102tower-2", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("99FGate102tower-2", instance_id());
	end;

OnTouch_:
	warp "5@tower",101,72;
	end;
}

/*
4@tower,71,1,0	script	#Manager Mode4	844,{
	mes "Please enter the password.";
	input .@inputstr$;
	next;
	if (.@inputstr$ == "dmc2008") {
		mes "This NPC manages the tower from the 76th to the 99th Floor.";
		mes "Please enter the Floor number to open.";
		mes "(i.g.: 76F->76, 99F->99)";
		input .@input,76,99;
		next;
		if (.@input < 76 || .@input > 99)
			mes "You can only enter a number from 76 to 99.";
		else {
			donpcevent instance_npcname(.@input+"FGate102tower", instance_id())+"::OnEnable";
			mes "*** Floor "+ .@input + " is now being opened. ***";
		}
	}
	close;
}
*/

// Floor 100
5@tower,106,109,2	script	玲瓏的水晶#102	844,{
	if (in_102tower < 10) {
		mes "^0000FF當你把手放在散發強光的水晶上後，傳來了可疑的聲音^000000";
		next;
		mes "[未知的聲音]";
		mes "雖不認識你但能到這裡實屬不容易，對你的表現深表讚許";
		next;
		mes "[未知的聲音]";
		mes "不過你的表演舞台也要到此止步了…";
		next;
		mes "[未知的聲音]";
		mes "別高興的太早，你只是僥倖擊敗我的手下而已，骷髏觸角魔並未完全被打敗…";
		next;
		mes "[未知的聲音]";
		mes "我會再次讓牠復活後等候各位的，如果能再次擊敗骷髏觸角魔的話，我會親自對付你們的";
		next;
		mes "[未知的聲音]";
		mes "我們得暫時別離了，";
		mes "這段期間很開心，我會很期待再次與大家相遇的那一天";
		next;
		mes "^0000FF說完話，有一股不可抗力的強大力量把你移動至其它空間^000000";
		close2;
		set in_102tower,10;
		warp "alberta",223,36;
	}
	else {
		mes "^0000FF當你把手放在散發強光的水晶上後，傳來了可疑的聲音^000000";
		next;
		mes "[未知的聲音]";
		mes "沒想到你又來到這裡，我真是太小看你了";
		next;
		mes "[未知的聲音]";
		mes "我感受到你因戰鬥所流的汗味和喘息聲，啊啊~　果然人類的挑戰慾望令我讚佩不已";
		next;
		mes "[未知的聲音]";
		mes "我現在同意你向我黑暗之夜勝魔來挑戰…";
		close2;
		warp "6@tower",32,12;
	}
	end;

OnInstanceInit:
	disablenpc instance_npcname("玲瓏的水晶#102", instance_id());
	end;

OnDisable:
	disablenpc instance_npcname("玲瓏的水晶#102", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("玲瓏的水晶#102", instance_id());
	donpcevent instance_npcname("#102Effect1", instance_id())+"::OnEnable";
	end;
}

5@tower,106,109,2	script	#102Effect1	844,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("#102Effect1", instance_id());
	end;

OnDisable:
	disablenpc instance_npcname("#102Effect1", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("#102Effect1", instance_id());
	initnpctimer;
	end;

OnTimer500:
	specialeffect EF_ENHANCE;
	stopnpctimer;
	donpcevent instance_npcname("#102Effect2", instance_id())+"::OnEnable";
	end;
}

5@tower,106,109,2	script	#102Effect2	844,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("#102Effect2", instance_id());
	end;

OnDisable:
	disablenpc instance_npcname("#102Effect2", instance_id());
	end;

OnEnable:
	enablenpc instance_npcname("#102Effect2", instance_id());
	initnpctimer;
	end;

OnTimer500:
	specialeffect EF_ENHANCE;
	stopnpctimer;
	donpcevent instance_npcname("#102Effect1", instance_id())+"::OnEnable";
	end;
}

5@tower,82,112,2	script	#102FShadowDust1	844,{
	end;

OnInstanceInit:
	donpcevent instance_npcname("#102FShadowDust", instance_id())+"::OnEnable";
	monster "5@tower",83,85,"Entweihen Crothen",1957,1,instance_npcname("#102FShadowDust1", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("5@tower",instance_npcname("#102FShadowDust1", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		instance_announce 0, "未知的聲音: Who are you to dare intrude upon my sanctuary?!",bc_map,"0xffff00";
		donpcevent instance_npcname("#102FShadowDust", instance_id())+"::OnDisable";
		donpcevent instance_npcname("玲瓏的水晶#102", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 100
	}
	end;
}

5@tower,82,113,2	script	#102FShadowDust	844,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("#102FShadowDust", instance_id());
	end;

OnDisable:
	killmonsterall "5@tower";
	end;

OnEnable:
	monster "5@tower",72,93,"Thorny Skeleton",1958,1;
	monster "5@tower",70,87,"Thorn of Magic",1960,1;
	monster "5@tower",68,83,"Thorn of Pureness",1961,1;
	monster "5@tower",70,80,"Thorny Skeleton",1958,1;
	monster "5@tower",74,81,"Thorn of Magic",1960,1;
	monster "5@tower",78,72,"Thorn of Magic",1960,1;
	monster "5@tower",81,70,"Thorny Skeleton",1958,1;
	monster "5@tower",78,84,"Thorn of Recovery",1959,1;
	monster "5@tower",85,72,"Thorn of Magic",1960,1;
	monster "5@tower",91,74,"Thorny Skeleton",1958,1;
	monster "5@tower",79,77,"Thorn of Pureness",1961,1;
	monster "5@tower",82,80,"Thorn of Recovery",1959,1;
	monster "5@tower",87,83,"Thorn of Recovery",1959,1;
	monster "5@tower",80,92,"Thorn of Pureness",1961,1;
	monster "5@tower",81,89,"Thorny Skeleton",1958,1;
	monster "5@tower",85,93,"Thorn of Magic",1960,1;
	monster "5@tower",86,90,"Thorn of Recovery",1959,1;
	monster "5@tower",88,88,"Thorny Skeleton",1958,1;
	monster "5@tower",91,87,"Thorn of Magic",1960,1;
	monster "5@tower",95,94,"Thorn of Magic",1960,1;
	monster "5@tower",91,96,"Thorny Skeleton",1958,1;
	monster "5@tower",90,82,"Thorn of Pureness",1961,1;
	monster "5@tower",96,98,"Thorn of Magic",1960,1;
	monster "5@tower",83,76,"Thorny Skeleton",1958,1;
	monster "5@tower",74,85,"Thorny Skeleton",1958,1;
	set .@mob_ran,rand(1,3);
	if (.@mob_ran == 1)
		monster "5@tower",82,85,"Thorny Skeleton",1958,1;
	else if (.@mob_ran == 2)
		monster "5@tower",82,85,"Thorn of Magic",1960,1;
	else
		monster "5@tower",82,85,"Thorn of Pureness",1961,1;
	set .@mob_ran2,rand(1,3);
	if (.@mob_ran2 == 1)
		monster "5@tower",84,85,"Thorny Skeleton",1958,1;
	else if (.@mob_ran2 == 2)
		monster "5@tower",84,85,"Thorn of Magic",1960,1;
	else
		monster "5@tower",84,85,"Thorn of Pureness",1961,1;
	end;
}

5@tower,71,1,0	script	#Manager Mode5	844,{
	mes "This NPC manages the crystal on the 100th Floor. Please enter the password.";
	input .@inputstr$;
	next;
	if (.@inputstr$ == "dmc2008") {
		donpcevent instance_npcname("玲瓏的水晶#102", instance_id())+"::OnEnable";
		mes "The 100th Floor's crystal has been activated.";
	}
	else
		mes "Please enter the correct password.";
	close;
}

// Floor 101
6@tower,45,89,2	script	生命之泉#1	844,{
	set .@pc_hp,MaxHp-Hp;
	set .@pc_sp,MaxSp-Sp;
	mes "^0066ff飲用了清澈的水流後，感覺到全身恢復了活力^000000";
	percentheal .@pc_hp,.@pc_sp;
	close;

OnInstanceInit:
	donpcevent instance_npcname("生命之泉#2", instance_id())+"::OnEnable";
	end;

}

6@tower,45,89,2	script	生命之泉#2	844,{
	end;

OnEnable:
	specialeffect EF_BUBBLE;
	initnpctimer;
	end;

OnTimer2000:
	stopnpctimer;//;
	donpcevent instance_npcname("生命之泉#3", instance_id())+"::OnEnable";
	end;
}

6@tower,45,89,2	script	生命之泉#3	844,{
	end;

OnEnable:
	specialeffect EF_BUBBLE;
	initnpctimer;
	end;

OnTimer2000:
	stopnpctimer;
	donpcevent instance_npcname("生命之泉#2", instance_id())+"::OnEnable";
	end;
}

6@tower,32,100,0	warp	102FGate102tower	2,2,6@tower,155,64

6@tower,156,151,2	script	Tyrant's Throne#	844,{
	end;

OnInstanceInit:
	areamonster "6@tower",154,73,156,75,"Anopheles",1627,10,instance_npcname("Tyrant's Throne#", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("6@tower",instance_npcname("Tyrant's Throne#", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		donpcevent instance_npcname("#1st Beeper", instance_id())+"::OnEnable";
		disablenpc instance_npcname("Tyrant's Throne#", instance_id());
	}
	end;
}

6@tower,156,151,2	script	#1st Beeper	844,{
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer500:
	instance_announce 0,"客人來了，竟然也不知到這裡就是葬身之地，卻盲目的來挑戰…",bc_map,"0x00ffcc";
	end;

OnTimer5500:
	instance_announce 0,"你們這些冒險家都是一個樣，不過各位的勇氣值得嘉許",bc_map,"0x00ffcc";
	end;

OnTimer10500:
	instance_announce 0,"當然在那之前先通過餘興節目後再說吧",bc_map,"0x00ffcc";
	end;

OnTimer15500:
	instance_announce 0,"我喜歡看著人類東奔西走忙碌的樣子",bc_map,"0x00ffcc";
	end;

OnTimer20500:
	instance_announce 0,"那麼... 你們就開始表演給我看吧",bc_map,"0x00ffcc";
	stopnpctimer;
	areamonster "6@tower",151,66,153,106,"Bone Guardian",1152,50,instance_npcname("#1st Beeper", instance_id())+"::OnMyMobDead";
	areamonster "6@tower",158,66,160,106,"Bone Guardian",1152,50,instance_npcname("#1st Beeper", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("6@tower",instance_npcname("#1st Beeper", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		donpcevent instance_npcname("#2nd Beeper", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 101
	}
	else
		instance_announce 0,"剩餘目標 " + .@mob_dead_num + "ea",bc_map,"0x00ff99";
	end;
}

6@tower,156,151,2	script	#2nd Beeper	844,{
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer500:
	instance_announce 0,"嗯，難到餘興節目太無趣了嗎?",bc_map,"0x00ffcc";
	end;

OnTimer5500:
	instance_announce 0,"那麼節奏調快一點好了",bc_map,"0x00ffcc";
	end;

OnTimer10500:
	instance_announce 0,"鄭重的要求再來一次",bc_map,"0x00ffcc";
	stopnpctimer;
	areamonster "6@tower",151,66,153,106,"Wind Guardian",1263,30,instance_npcname("#2nd Beeper", instance_id())+"::OnMyMobDead";
	areamonster "6@tower",158,66,160,106,"Wind Guardian",1263,30,instance_npcname("#2nd Beeper", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("6@tower",instance_npcname("#2nd Beeper", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		donpcevent instance_npcname("#3rd Beeper", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 102
	}
	else
		instance_announce 0,"剩餘目標 " + .@mob_dead_num + "ea",bc_map,"0x00ff99";
	end;
}

6@tower,156,151,2	script	#3rd Beeper	844,{
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer500:
	instance_announce 0,"我也慢慢開始有興致了!",bc_map,"0x00ffcc";
	end;

OnTimer5500:
	instance_announce 0,"逗我開心的幾個人類我會記住你們的",bc_map,"0x00ffcc";
	end;

OnTimer10500:
	instance_announce 0,"我們再來玩一次吧",bc_map,"0x00ffcc";
	stopnpctimer;
	areamonster "6@tower",151,66,153,106,"Sword Edge Guardian",1132,20,instance_npcname("#3rd Beeper", instance_id())+"::OnMyMobDead";
	areamonster "6@tower",158,66,160,106,"Sword Edge Guardian",1132,20,instance_npcname("#3rd Beeper", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	set .@mob_dead_num,mobcount("6@tower",instance_npcname("#3rd Beeper", instance_id())+"::OnMyMobDead");
	if (.@mob_dead_num < 1) {
		donpcevent instance_npcname("#4th Beeper", instance_id())+"::OnEnable";
		//SetItemPartyInMap in_102floor 103
	}
	else
		instance_announce 0,"剩餘目標 " + .@mob_dead_num + "ea",bc_map,"0x00ff99";
	end;
}

6@tower,156,151,2	script	#4th Beeper	844,{
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer500:
	instance_announce 0,"好吧! 該是我上場的時候了",bc_map,"0x00ffcc";
	end;

OnTimer5500:
	instance_announce 0,"想知道我的名字嗎?…",bc_map,"0x00ffcc";
	end;

OnTimer10500:
	instance_announce 0,"我會讓你知道我是誰的，因為你們的死期到了",bc_map,"0x00ffcc";
	stopnpctimer;
	monster "6@tower",156,147,"Nacht Sieger",1956,1,instance_npcname("#4th Beeper", instance_id())+"::OnMyMobDead";
	end;

OnMyMobDead:
	donpcevent instance_npcname("失蹤的靈魂#102", instance_id())+"::OnEnable";
	end;
}

6@tower,169,127,2	script	失蹤的靈魂#102	796,{
	if (checkweight(1201,1) == 0) {
		mes "您攜帶太多的東西。你為什麼不把一些丟掉，然後再來？";
		close;
	}
	mes "[失蹤的靈魂]";
	mes "原來是你，把我們從夜勝魔的手中解放出來";
	next;
	mes "[失蹤的靈魂]";
	mes "終於可以脫離這黑暗又淒涼的地方得到安息了，我們不會忘記你的恩德";
	next;
	if ((countitem(13412) > 0) && (countitem(13413) > 0)) {
		mes "[失蹤的靈魂]";
		mes "為了報答你的恩情，我可以為你製作一把強大的武器，湛紫魔劍";
		next;
		mes "[失蹤的靈魂]";
		mes "但是這把武器只有騎士領主或聖殿十字軍才能裝備，你要製作嗎?";
		next;
		switch(select("合成湛紫魔劍:不要")) {
		case 1:
			mes "[失蹤的靈魂]";
			mes "好，那我會結合在一起，以創造一個雙手劍";
			next;
			delitem 13412,1; //夜勝魔的雙子銳劍(B)
			delitem 13413,1; //夜勝魔的雙子銳劍(R)
			getitem 1185,1; //湛紫魔劍
			mes "[失蹤的靈魂]";
			mes "我想給你更多的談論，但我已經...得走了。";
			next;
			break;
		case 2:
			mes "[失蹤的靈魂]";
			mes "真是可惜，但也許我們還會在見面的";
			next;
			mes "[失蹤的靈魂]";
			mes "我想給你更多的談論，但我已經...得走了。";
			next;
			break;
		}
	}
	mes "[失蹤的靈魂]";
	mes "現在是道別的時刻，祝你一路順風";
	close2;
	warp "alberta",223,36;
	end;

OnInstanceInit:
	disablenpc instance_npcname("失蹤的靈魂#102", instance_id());
	end;

OnEnable:
	initnpctimer;
	enablenpc instance_npcname("失蹤的靈魂#102", instance_id());
	donpcevent instance_npcname("#Effect30", instance_id())+"::OnEnable";
	//SetItemPartyInMap in_102floor 104
	end;

OnTimer500:
	instance_announce 0,"這....不會吧!!! 我怎麼會被打敗呢!!",bc_map,"0xffff00";
	end;

OnTimer5500:
	instance_announce 0,"不要! 我的魂魄!... 我的軀體... 這不可能的!",bc_map,"0xffff00";
	end;

OnTimer10500:
	instance_announce 0,"夜勝魔的身體化為黑色灰燼後飄向空中",bc_map,"0x00ffcc";
	stopnpctimer;
	end;
}

6@tower,169,127,2	script	#Effect30	844,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("#Effect30", instance_id());
	end;

OnEnable:
	specialeffect EF_CONE;
	initnpctimer;
	end;

OnTimer1000:
	stopnpctimer;
	donpcevent instance_npcname("#Effect31", instance_id())+"::OnEnable";
	end;
}

6@tower,169,127,2	script	#Effect31	844,{
	end;

OnInstanceInit:
	disablenpc instance_npcname("#Effect31", instance_id());
	end;

OnEnable:
	specialeffect EF_CONE;
	initnpctimer;
	end;

OnTimer1000:
	stopnpctimer;
	donpcevent instance_npcname("#Effect30", instance_id())+"::OnEnable";
	end;
}